{"version":3,"file":"validation.mjs","mappings":"SAOA,IAAe,MACb,MAAMA,EAAQ,CACZC,MAAOC,KACLA,SAEEC,MAAMC,QAAQF,IAAyB,IAAhBA,EAAKG,QACY,oBAAzCC,OAAOC,UAAUC,SAASC,KAAKP,IACL,OAAzBQ,KAAKC,UAAUT,IACA,iBAATA,GAAyD,IAApCA,EAAKU,QAAQ,OAAQ,IAAIP,QACpC,iBAATH,IAAsBA,GAGjCW,IAAKX,GAAQ,iBAAiBY,KAAKZ,GAGnCa,MAAOb,GACL,wEAAwEY,KACtEZ,GAGJc,UAAWd,GAAQ,cAAcY,KAAKZ,GAGtCe,MAAOf,GAAQ,gDAAgDY,KAAKZ,GAEpEgB,QAAShB,GAAQ,wBAAwBY,KAAKZ,GAE9CiB,YAAa,KAAM,EAEnBC,MAAOlB,GACL,0JAA0JY,KACxJZ,IAgBN,MAAO,CAACmB,EAAOnB,KACb,MAAMoB,EATUpB,IAAQ,CAACqB,EAAOC,KAChC,MAAM,KAAEC,EAAI,WAAEC,EAAU,QAAEC,EAAO,MAAEC,GAAUJ,EACvCK,EAAOH,EACTA,EAAWxB,EAAKqB,IAChBvB,EAAMyB,GAAMvB,EAAKqB,IAErB,OADAM,EAAOF,IAAUH,GAAQI,IAAQJ,GAC1BK,CAAI,EAGQC,CAAU5B,GAC7B,IAAK,IAAIqB,KAASF,EAEhB,GAAIlB,MAAMC,QAAQiB,EAAME,KACtB,IAAK,IAAIQ,EAAI,EAAGA,EAAIV,EAAME,GAAOlB,OAAQ0B,IACvC,GAAIV,EAAME,KACHD,EAAWC,EAAOF,EAAME,GAAOQ,IAClC,OAAOV,EAAME,GAAOQ,QAM1B,IAAKT,EAAWC,EAAOF,EAAME,IAC3B,OAAOF,EAAME,GAInB,OAAO,CAAI,CAEd,EApED,G","sources":["webpack://webpack-jq/./src/validation.js"],"sourcesContent":["/**\n * @overview 根据校验规则校验数据，执行传入的回调函数，返回校验结果\n * @method 验证类型\n * @param { Object | required } rules - 校验规则.\n * @param { Array | required } data - 数据.\n * @return { Boolean | rules[key] } 返回值描述: 如果校验成功则返回 true, 校验失败返回校验的规则\n **/\nexport default (() => {\n  const Rules = {\n    empty: data =>\n      data !== null &&\n      data !== undefined &&\n      (!Array.isArray(data) || data.length !== 0) &&\n      (Object.prototype.toString.call(data) !== '[object Object]' ||\n        JSON.stringify(data) !== '{}') &&\n      (typeof data !== 'string' || data.replace(/\\s+/g, '').length !== 0) &&\n      !(typeof data !== 'number' && !data),\n\n    // 校验是否以http或https开头的url\n    url: data => /^(http|https):/.test(data),\n\n    // 钱\n    money: data =>\n      /(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)/.test(\n        data\n      ),\n    // 纯英文\n    alphabets: data => /^[A-Za-z]+$/.test(data),\n\n    // 浮点数\n    float: data => /^-?[1-9]\\d*\\.\\d+$|^-?0\\.\\d+$|^-?[1-9]\\d*$|^0$/.test(data),\n    // 汉字\n    chinese: data => /^[\\u4e00-\\u9fa5]{0,}$/.test(data),\n\n    placeholder: () => true,\n\n    email: data =>\n      /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n        data\n      ),\n  };\n  /**\n   * @method 传入一个公用data，返回一个可执行函数\n   * @param { Object | required } data - 数据.\n   * @return { Function }\n   **/\n  const CacheData = data => (field, rule) => {\n    const { type, validation, success, error } = rule;\n    const pass = validation\n      ? validation(data[field])\n      : Rules[type](data[field]);\n    pass ? success?.(rule) : error?.(rule);\n    return pass;\n  };\n  return (rules, data) => {\n    const Validation = CacheData(data);\n    for (let field in rules) {\n      // 多个校验规则\n      if (Array.isArray(rules[field])) {\n        for (let i = 0; i < rules[field].length; i++) {\n          if (rules[field]) {\n            if (!Validation(field, rules[field][i])) {\n              return rules[field][i];\n            }\n          }\n        }\n      } else {\n        // 单个校验规则\n        if (!Validation(field, rules[field])) {\n          return rules[field];\n        }\n      }\n    }\n    return true;\n  };\n})();\n"],"names":["Rules","empty","data","Array","isArray","length","Object","prototype","toString","call","JSON","stringify","replace","url","test","money","alphabets","float","chinese","placeholder","email","rules","Validation","field","rule","type","validation","success","error","pass","CacheData","i"],"sourceRoot":""}